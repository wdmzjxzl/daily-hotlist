&emsp;&emsp;该文档更新时间为：2023-12-18，非最新版，详情请从正文点击跳转官网查看文档进行接入

##### 热榜API接入案例：

![gh_e52688386af7_258](https://github.com/wdmzjxzl/daily-hotlist/assets/36881585/46657011-e4b6-41f0-963a-f169e6c4221e)



<!-- more -->
## 一、介绍

### 1. 项目介绍

&emsp;&emsp;HotList是基于Python Spider + FastAPI 实现的今日热榜编程接口，项目灵感来自于 [今日热榜](https://tophub.today/c/news) ，API接口涵盖：微博、今日头条、豆瓣、百度、虎嗅、IT之家、BiliBili等全网热点榜单。

&emsp;&emsp;为了确保服务器安全以及控制使用成本，所有接口在请求时需要在请求头中增加许可证信息进行认证。

> 目前已提供平台：
>
> 百度、微博、知乎、豆瓣、BiliBili、人人都是产品经理、IT之家、抖音、虎扑、澎湃新闻、36Kr、少数派、开眼视频、百度贴吧、AcFun、CSDN、掘金、PMCAFF、博客园、指趣游戏盒、果盘游戏、TapTap、吾爱破解、GitHub、猫眼、3DMGame、懂车帝


### 2. 版权说明

&emsp;&emsp;所有API接口提供的信息资料、图片及视频等均来源于公开网络，接口仅提供基于类似搜索引擎类的推荐服务，所有详细信息均跳转到原始网页地址访问，不做任何转码类操作，服务器仅存储标题和链接，正文内容不做任何抓取存储，如果侵犯您的权益 ，请与我们联系,我们会尽快处理。同时请注意原网站的观点不表示我们也认同，信息内容真实性请自己辨别。


### 3. 联系我们

- 博客：https://www.zlinblog.cn

- QQ群：1043787769


## 二、接入

### 1. Licence申请

- [猛戳我！！！](https://api.zlinblog.cn/apply)

### 2. Auth Licence

- 请通过 请求头 HEADER 传递接口的访问许可证 X-Licence（请务必保存好自己的密钥）

| 名称      | 值              |
| --------- | --------------- |
| X-Licence | 3yVabcd1234d597 |


<img src="https://pic.zlinblog.cn/api_example.jpg" alt="api_example"/>


### 3. API地址

- 接口地址：`https://api.zlinblog.cn`

> 后方拼接请求路径；示例：
>
> `https://api.zlinblog.cn/single/rank?platform=抖音&rank_name=地区榜&city_code=110000`

| 接口           |
| -------------- |
| 全部榜单数据   |
| 单条榜单数据   |
| 模糊搜索热点   |
| 自定义榜单数据 |



### 4. 接口详情

#### 4.1 全部榜单数据

（1）描述：获取HotList今日热榜现有的全部榜单数据（获取的是最新数据）

（2）地址：`https://api.zlinblog.cn/all/rank`

（3）请求方法：GET

（4）查询参数

| 参数名称 | 必传 | 类型 | 说明                   | 示例值 |
| -------- | ---- | ---- | ---------------------- | ------ |
| page     | 否   | int  | 页码，默认为1          | 50     |
| limit    | 否   | int  | 每页数据条数，默认为50 | 100    |

#### 4.2 单条榜单数据

（1）描述：根据平台名称及榜单名称查询具体某一个榜单的数据（获取的是最新数据）

（2）地址：`https://api.zlinblog.cn/single/rank`

（3）请求方法：GET

（4）查询参数

- 具体平台与榜单名称列表请前往 [官网-接口文档](https://api.zlinblog.cn/document) 进行查阅

| 参数名称      | 必传 | 类型 | 说明                                                         | 示例值     |
| ------------- | ---- | ---- | ------------------------------------------------------------ | ---------- |
| platform      | 是   | str  | 平台名称；该字段参数值需要与上方API接口目录表中的【平台名称】对应 | 虎扑       |
| rank_name     | 是   | str  | 榜单名称；该字段参数值需要与上方API接口目录表中的【榜单类型】对应 | 步行街热帖 |
| city_code     | 是   | str  | [百科：行政划区代码](https://baike.baidu.com/item/行政区划代码/5650987?fr=ge_ala)（**抖音·地区榜** 专用，其他榜单无需传入） | 110000     |
| child_channel | 是   | str  | 二级榜单类型（**CSDN·领域内容榜** 专用，其他榜单无需传入）   | JavaScript |

#### 4.3 模糊搜索热点

（1）描述：根据关键词查询全部榜单数据中存在的相关联的数据（获取的是最新数据）

（2） 地址：`/all/hot/data`

（3）请求方式：GET

（4）查询参数

| 参数名称 | 必传 | 类型 | 说明           | 示例值 |
| -------- | ---- | ---- | -------------- | ------ |
| keyword  | 是   | str  | 模糊查询关键词 | 省考   |

#### 4.4 自定义榜单数据

（1）描述：用于自定义榜单数据(自定义淘宝带货榜单或其他用于商业盈利性质的榜单数据)，请勿上传非法数据！

（2）地址： 请通过 [官网 · 带货管理](https://api.zlinblog.cn/marketing) 菜单界面进行操作


### 5. 返回成功示例

```json
{
  "code": 200,
  "msg": "ok",
  "name": "百度热搜",
  "data": {
    "version": "v1b1",
    "count": 2,
    "date_time": 1698658626,
    "stable": true,
    "list": [
      {
        "title": "OpenAI创始人加入微软",
        "heat": 4966581,
        "link": "https://www.baidu.com/s?wd=%E",
        "update_time": 1698658626
      },
      {
        "title": "乌尔善取关封神所有演员",
        "heat": 4969282,
        "link": "https://www.baidu.com/s?wd=%E4",
        "update_time": 1698658626
      }
    ]
  }
}
```

| 名称        | 类型       | 说明                      |
| ----------- | ---------- | ------------------------- |
| code        | int        | 返回状态码，成功返回为200 |
| msg         | str        | 返回说明，成功返回为OK    |
| name        | str        | 数据源名称                |
| data        | list[dict] | 数据结果集                |
| version     | str        | 当前接口版本号            |
| count       | int        | 结果数量                  |
| date_time   | datetime   | 数据更新时间（时间戳）    |
| stable      | bool       | 接口是否为稳定版本        |
| list        | list[dict] | 返回结果集                |
| title       | str        | 标题                      |
| heat        | int        | 热度，部分接口没有该字段  |
| link        | str        | 源地址                    |
| update_time | datetime   | 数据爬取时间（时间戳）    |

### 6. 请求报错示例

```json
{
  "code": 100001,
  "msg": "证书不存在",
  "data": [
    {
      "version": "v1b1",
      "stable": true,
      "list": "null"
    }
  ]
}
```

| 名称    | 类型       | 说明                                   |
| ------- | ---------- | -------------------------------------- |
| code    | int        | 返回状态码，详见下方正文错误码         |
| msg     | str        | 返回说明，详见下方正文错误码           |
| data    | list[dict] | 数据结果集                             |
| version | str        | 当前接口版本号                         |
| stable  | bool       | 接口是否为稳定版本                     |
| list    | str        | 返回结果集，接口报错时该字段始终为null |

### 7. 错误码

| 错误码 | 描述                                                   |
| ------ | ------------------------------------------------------ |
| 100001 | 证书不存在                                             |
| 100002 | 证书为未申请状态，请先申请证书                         |
| 100003 | 证书已过期，请重新申请证书                             |
| 100004 | 总请求次数不足，请续费或重新申请证书                   |
| 100005 | 当日剩余请求次数不足，请明日再试                       |
| 100006 | 未查询到接口信息                                       |
| 100007 | 请传入city_code                                        |
| 100008 | 请传入child_channel                                    |
| 100101 | 接口列表获取失败                                       |
| 100102 | 请在请求头中定义X-Licence证书进行认证(X-Licence=xxxxx) |
| -      | -                                                      |
| 200001 | 证书列表为空                                           |
| 200002 | 未找到该证书                                           |
| 200003 | 删除证书失败                                           |
| 200004 | 申请证书失败                                           |
| 200100 | 您已申请过许可证，不可重复申请                         |
| 200200 | 重置免费版每日剩余请求次数：暂无数据可重置             |
| 200201 | 添加证书失败                                           |
| 200202 | 传入证书类型错误                                       |
| 200203 | 证书库存不足，请联系管理员进行补充                     |
| 200204 | 传入证书数量错误                                       |
| 200205 | 目前仅支持申请包月版证书(可免费申请)                   |
| 200206 | 当日剩余数量不足                                       |
| 200207 | 总剩余数量不足                                         |
| -      | -                                                      |
| 300001 | 爬虫数据异常，请联系管理员                             |
| 300002 | 主体网页爬取失败，请检查异常                           |
| 300003 | 部分HTML字段信息爬取失败，请检查异常                   |
| 300004 | HTML网页解析失败，请检查异常                           |
| 300005 | JSON网址解析失败，请检查异常                           |
| 300006 | 网址解析方式出错，请更换网页解析方式                   |
| 300007 | 部分JSON字段信息爬取失败，请检查异常                   |
| 300008 | 请传入地级市区域代码，如110000、440100等               |
| 300100 | 历史过期数据删除失败，请检查异常                       |
| 300110 | 爬虫数据提取失败，请检查异常                           |
| 300120 | 爬虫检查更新失败，请检查异常                           |
| 300130 | 数据读取失败，请检查异常                               |
| -      | -                                                      |
| 400001 | 文件类型错误，仅支持 xls\|xlsx\|csv                    |
| 400002 | 解析失败，请确认是否按照模板正确填写                   |
| 400003 | 解析失败，未解析到Licence证书内容                      |
| 400004 | 证书认证失败，请确认该证书已申请                       |
| 400005 | 请传入数据类型                                         |
| 400006 | 批量导入数据失败，请检查错误                           |
| 400007 | 未找到数据                                             |
| 400008 | 数据删除失败，请重试                                   |
| 400009 | 该许可证上传数据条数已达上限                           |
| 400010 | CSDN领域内容榜传入类型错误                             |



## 三、赞赏

- 您的小额赞助对我们的工作有着巨大的帮助，让我们得以持续改进与提升服务品质。


<img src="https://pic.zlinblog.cn/arv_honor%20code.png" style="zoom:15%;" alt="微信"/>

